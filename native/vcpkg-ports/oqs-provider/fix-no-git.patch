diff --git a/oqsprov/CMakeLists.txt b/oqsprov/CMakeLists.txt
--- a/oqsprov/CMakeLists.txt
+++ b/oqsprov/CMakeLists.txt
@@
 include(GNUInstallDirs)
-execute_process(
-  COMMAND git log -1 --format=%h
-  
-WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
-  OUTPUT_VARIABLE GIT_COMMIT_HASH
-  
-OUTPUT_STRIP_TRAILING_WHITESPACE
-)
+set(GIT_COMMIT_HASH "unknown")
+find_package(Git QUIET)
+if(GIT_FOUND AND EXISTS "${CMAKE_SOURCE_DIR}/.git")
+  execute_process(
+    COMMAND "${GIT_EXECUTABLE}" log -1 --format=%h
+    WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
+    OUTPUT_VARIABLE GIT_COMMIT_HASH
+    OUTPUT_STRIP_TRAILING_WHITESPACE
+  )
+endif()
